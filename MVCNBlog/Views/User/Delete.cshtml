@model MVCNBlog.ViewModels.User.UserViewModel

@{
    ViewBag.Title = "Delete user";
}

<h2>Delete</h2>

<h3>Are you sure you want to delete this user?</h3>
<div class="clearfix single_content">
    <div class="clearfix user_picture floatleft">
        <a href="@Url.RouteUrl("UserAction", new {action = "Index", name = Model.Name, id = Model.Id})">
            @Html.Raw("<img style='width:100px; height:100px;' src=\"data:image/jpeg;base64,"
                      + Convert.ToBase64String(Model.UserPic) + "\" />")
        </a>

    </div>
    <div class="clearfix post_detail">
        <div class="clearfix post_excerpt">
            <p>
                <b>User name:</b>
                @Html.DisplayFor(modelItem => Model.Name)
            </p>
            <p>
                <b>Creation date:</b>
                @Html.DisplayTextFor(modelItem => Model.CreationDate)
            </p>
            <p>
                <b>Rank:</b>
                @Html.DisplayTextFor(modelItem => Model.Rank)
            </p>
            <p>
                <b>Role:</b>
                @Html.DisplayFor(modelItem => Model.Role.RoleName)
            </p>
            @if (Model.PayedRole != null)
            {
                <p>
                    <b> Payed role:</b>
                    @Html.DisplayTextFor(modelItem => ((IRole) Model.PayedRole).RoleName)
                </p>
            }
        </div>
    </div>
</div>

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()

    <div class="form-actions no-color">
        <input type="submit" value="Delete" class="btn" style="padding: 8px 14px;" />
    </div>
}
@Html.RouteLink("Back to users", "AllUsers", new { action = "All" }, new { @class = "btn" })

